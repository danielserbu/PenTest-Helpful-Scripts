import os
import argparse

parser = argparse.ArgumentParser(description="Find Alive Hosts from addresses file.")
parser.add_argument("-iF", "--addressesFile", help="addresses file (separated by new line")
args = parser.parse_args()
addressesFile = args.addressesFile
addresses = open(addressesFile).read().splitlines()

alive_output_file = "aliveHosts.txt"
alive_hosts = []
down_output_file = "downHosts.txt"
down_hosts = []
for address in addresses:
    response = os.system("ping -n 1 -w 1 " + address)
    if response == 0:
        alive_hosts.append(address)
        print(address + " is up") 
    else:
        down_hosts.append(address)
        print(address + " is down")

with open(alive_output_file, "w") as file:
    for alive_host in alive_hosts:
        file.writelines(alive_host + '\n')

with open(down_output_file, "w") as file:
    for down_host in down_hosts:
        file.writelines(down_host + '\n')